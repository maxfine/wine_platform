(function(a){var b={url:"/content/view/548ace7988472cb8aa97ae44?error=404",listeners:{},debug:false};b.addHandler=function(g,j,i,e,h){var f=this.listeners,c=false;if(typeof(f[g])!=="object"){c=true;f[g]={parent:this,name:g,handlers:{},lastForceTime:0,delay:30000,forceDelay:10000,handlerCount:0,requestCount:0,requestCache:0,requestFactor:1,result:null,start:function(m){if(m){this.stop();if(this.lastForceTime>0){var l=+new Date();if(l-this.lastForceTime>this.forceDelay){this.parent.print(this.name,"Force and call execute function.");this.lastForceTime=l;this.requestCache=0;this.execute()}}else{this.parent.print(this.name,"First Force and call execute function.");this.lastForceTime=+new Date();this.execute()}}if(!this.timer){var k=this;this.timer=setInterval(function(){k.execute()},this.delay)}return this},stop:function(){if(this.timer){clearInterval(this.timer);this.timer=null}return this},execute:function(){if(this.requestCache>0){this.requestCache--;this.parent.print(this.name,"Wait for calling execute function, and remain "+this.requestCache+" time(s)")}else{this.parent.print(this.name,"Call execute function.");this.requestCache=0;this.ajaxForData()}return this},ajaxForData:function(){if($&&$.ajax){var m={t:(+new Date)},k=this,l=k.url;if(!l){l=k.parent.url;m.cmd=this.name}if(k){if(k.ajax&&k.ajax){try{k.ajax.abort()}catch(n){}}k.requestCount++;k.ajax=$.ajax({type:"GET",url:l,data:m,dataType:"json",success:function(o){k.resultCode="success";k.result=o;k.requestFactor=1;k.requestCache=0;k.parent.print(k.name,"ajax for data success with data : "+(typeof(JSON)=="object"?JSON.stringify(o):o));if(k.handlers){for(var p in k.handlers){try{var q=k.handlers[p];if(q&&typeof(q.callback)=="function"){q.callback(o)}}catch(r){}}}},error:function(){k.resultCode="error";k.result=null;k.requestFactor++;k.requestCache=k.requestFactor*1;k.parent.print(k.name,"ajax for data fail.");if(k.handlers){for(var o in k.handlers){try{var p=k.handlers[o];if(p&&typeof(p.errorCallback)=="function"){p.errorCallback()}}catch(q){}}}}}).done(function(){k.ajax=null;if(k.handlers){for(var o in k.handlers){try{var p=k.handlers[o];if(p&&typeof(p.alwaysCallback)=="function"){p.alwaysCallback()}}catch(q){}}}})}}}}}var d=f[g];if(d){if(!d.handlers[j]){d.handlerCount++;d.handlers[j]={}}d.handlers[j].callback=i;d.handlers[j].errorCallback=e;d.handlers[j].alwaysCallback=h;if(d.requestCount>0&&d.result&&d.resultCode=="success"){i(d.result)}if(this.isStart&&c){d.start(true)}}};b.removeHandler=function(d,g){var c=this.listeners;if(c[d]&&c[d].handlers&&c[d].handlers[g]){try{delete c[d].handlers[g]}catch(f){c[d].handlers[g]=null}c[d].handlerCount--}};b.start=function(f){var e=this.listeners;for(var d in e){var c=e[d];if(c){c.start(f)}}this.isStart=true};b.stop=function(){var e=this.listeners;for(var d in e){var c=e[d];if(c){c.stop()}}this.isStart=false};b.setUrl=function(d,c){this.config(d,{url:c})};b.config=function(f,g){if(typeof(f)=="string"){var e=this.listeners,c=e[f];if(c){for(var d in g){c[d]=g[d]}}}};b.setBaseUrl=function(c){this.url=c};b.setDebug=function(c){this.debug=!!c};b.print=function(c,d){if(this.debug&&a.console){a.console.info("["+(new Date())+"|"+c+"]:"+d)}};if(typeof(a.define)==="function"){a.define("SogouNotify",["$"],function(){return b})}else{a["SogouNotify"]=b}})(window);